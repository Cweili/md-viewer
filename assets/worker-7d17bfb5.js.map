{"version":3,"file":"worker-7d17bfb5.js","sources":["../node_modules/marked-highlight/src/index.js","../node_modules/async-throttle-cache/dist/async-throttle-cache.esm.js","../src/libs/utils.ts","../src/libs/highlight/language.js","../src/libs/highlight/prism.ts","../src/libs/katex/katex.ts","../src/libs/worker.ts"],"sourcesContent":["export function markedHighlight(options) {\n  if (typeof options === 'function') {\n    options = {\n      highlight: options\n    };\n  }\n\n  if (!options || typeof options.highlight !== 'function') {\n    throw new Error('Must provide highlight function');\n  }\n\n  if (typeof options.langPrefix !== 'string') {\n    options.langPrefix = 'language-';\n  }\n\n  return {\n    async: !!options.async,\n    walkTokens(token) {\n      if (token.type !== 'code') {\n        return;\n      }\n\n      const lang = getLang(token);\n\n      if (options.async) {\n        return Promise.resolve(options.highlight(token.text, lang)).then(updateToken(token));\n      }\n\n      const code = options.highlight(token.text, lang);\n      if (code instanceof Promise) {\n        throw new Error('markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.');\n      }\n      updateToken(token)(code);\n    },\n    renderer: {\n      code(code, infoString, escaped) {\n        const lang = (infoString || '').match(/\\S*/)[0];\n        const classAttr = lang\n          ? ` class=\"${options.langPrefix}${escape(lang)}\"`\n          : '';\n        code = code.replace(/\\n$/, '');\n        return `<pre><code${classAttr}>${escaped ? code : escape(code, true)}\\n</code></pre>`;\n      }\n    }\n  };\n}\n\nfunction getLang(token) {\n  return (token.lang || '').match(/\\S*/)[0];\n}\n\nfunction updateToken(token) {\n  return (code) => {\n    if (typeof code === 'string' && code !== token.text) {\n      token.escaped = true;\n      token.text = code;\n    }\n  };\n}\n\n// copied from marked helpers\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = new RegExp(escapeTest.source, 'g');\nconst escapeTestNoEncode = /[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/;\nconst escapeReplaceNoEncode = new RegExp(escapeTestNoEncode.source, 'g');\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n","var returnSelf = function returnSelf(result) {\n  return Promise.resolve(result);\n};\n\nfunction asyncThrottleCache(fn, wait, _temp) {\n  if (wait === void 0) {\n    wait = 0;\n  }\n\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$key = _ref.key,\n      key = _ref$key === void 0 ? function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return JSON.stringify(args);\n  } : _ref$key,\n      _ref$serialize = _ref.serialize,\n      serialize = _ref$serialize === void 0 ? returnSelf : _ref$serialize,\n      _ref$deserialize = _ref.deserialize,\n      deserialize = _ref$deserialize === void 0 ? returnSelf : _ref$deserialize;\n\n  var cache = {};\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    // eslint-disable-line func-names\n    var cacheKey = key.apply(void 0, args);\n\n    if (cache[cacheKey]) {\n      var cached = cache[cacheKey];\n      var e = cached.e,\n          r = cached.r,\n          f = cached.f;\n\n      if (e !== undefined) {\n        return Promise.reject(e);\n      }\n\n      if (f) {\n        return deserialize(r);\n      }\n\n      return new Promise(function (resolve, reject) {\n        cached.s.push(resolve);\n        cached.j.push(reject);\n      });\n    }\n\n    cache[cacheKey] = {\n      s: [],\n      j: [],\n      t: setTimeout(function () {\n        var cached = cache[cacheKey];\n\n        if (cached) {\n          if (cached.f) {\n            delete cache[cacheKey];\n          } else {\n            cached.t = 0;\n          }\n        }\n      }, wait)\n    };\n\n    var onFinish = function onFinish(err, result) {\n      var cached = cache[cacheKey];\n\n      if (cached) {\n        var j = cached.j,\n            s = cached.s;\n        cached.f = true;\n\n        if (err) {\n          cached.e = err;\n          j.map(function (f) {\n            return f(err);\n          });\n        } else {\n          serialize(result).then(function (r) {\n            cached.r = r;\n            s.map(function (f, i) {\n              return deserialize(r).then(f, j[i]);\n            });\n          }, onFinish);\n        }\n\n        if (!cached.t) {\n          delete cache[cacheKey];\n        }\n      }\n\n      return result;\n    };\n\n    return fn.apply(this, args).then(function (result) {\n      return onFinish(undefined, result);\n    }, function (err) {\n      onFinish(err);\n      return Promise.reject(err);\n    });\n  };\n}\n\nexport default asyncThrottleCache;\n","import cache from 'async-throttle-cache'\n\n// eslint-disable-next-line import/prefer-default-export, no-restricted-globals\nexport const loadScript = cache(async (url: string, prefix: string, context = self) => {\n  const resp = await fetch(`${prefix}${url}`, {\n    cache: 'force-cache',\n  })\n  const text = await resp.text()\n  // eslint-disable-next-line no-new-func\n  return (new Function('globalThis', 'self', text))(context, context)\n}, 60000)\n","/* eslint-disable camelcase, max-len, no-multi-assign, no-param-reassign, no-plusplus, no-unused-expressions, no-use-before-define */\n\n/**\n * The dependencies map is built automatically with gulp.\n *\n * @type {Object<string, string | string[]>}\n */\nconst lang_dependencies = /* dependencies_placeholder[ */{\n  javascript: 'clike',\n  actionscript: 'javascript',\n  apex: [\n    'clike',\n    'sql',\n  ],\n  arduino: 'cpp',\n  aspnet: [\n    'markup',\n    'csharp',\n  ],\n  birb: 'clike',\n  bison: 'c',\n  c: 'clike',\n  csharp: 'clike',\n  cpp: 'c',\n  cfscript: 'clike',\n  chaiscript: [\n    'clike',\n    'cpp',\n  ],\n  cilkc: 'c',\n  cilkcpp: 'cpp',\n  coffeescript: 'javascript',\n  crystal: 'ruby',\n  'css-extras': 'css',\n  d: 'clike',\n  dart: 'clike',\n  django: 'markup-templating',\n  ejs: [\n    'javascript',\n    'markup-templating',\n  ],\n  etlua: [\n    'lua',\n    'markup-templating',\n  ],\n  erb: [\n    'ruby',\n    'markup-templating',\n  ],\n  fsharp: 'clike',\n  'firestore-security-rules': 'clike',\n  flow: 'javascript',\n  ftl: 'markup-templating',\n  gml: 'clike',\n  glsl: 'c',\n  go: 'clike',\n  gradle: 'clike',\n  groovy: 'clike',\n  haml: 'ruby',\n  handlebars: 'markup-templating',\n  haxe: 'clike',\n  hlsl: 'c',\n  idris: 'haskell',\n  java: 'clike',\n  javadoc: [\n    'markup',\n    'java',\n    'javadoclike',\n  ],\n  jolie: 'clike',\n  jsdoc: [\n    'javascript',\n    'javadoclike',\n    'typescript',\n  ],\n  'js-extras': 'javascript',\n  json5: 'json',\n  jsonp: 'json',\n  'js-templates': 'javascript',\n  kotlin: 'clike',\n  latte: [\n    'clike',\n    'markup-templating',\n    'php',\n  ],\n  less: 'css',\n  lilypond: 'scheme',\n  liquid: 'markup-templating',\n  markdown: 'markup',\n  'markup-templating': 'markup',\n  mongodb: 'javascript',\n  n4js: 'javascript',\n  objectivec: 'c',\n  opencl: 'c',\n  parser: 'markup',\n  php: 'markup-templating',\n  phpdoc: [\n    'php',\n    'javadoclike',\n  ],\n  'php-extras': 'php',\n  plsql: 'sql',\n  processing: 'clike',\n  protobuf: 'clike',\n  pug: [\n    'markup',\n    'javascript',\n  ],\n  purebasic: 'clike',\n  purescript: 'haskell',\n  qsharp: 'clike',\n  qml: 'javascript',\n  qore: 'clike',\n  racket: 'scheme',\n  cshtml: [\n    'markup',\n    'csharp',\n  ],\n  jsx: [\n    'markup',\n    'javascript',\n  ],\n  tsx: [\n    'jsx',\n    'typescript',\n  ],\n  reason: 'clike',\n  ruby: 'clike',\n  sass: 'css',\n  scss: 'css',\n  scala: 'java',\n  'shell-session': 'bash',\n  smarty: 'markup-templating',\n  solidity: 'clike',\n  soy: 'markup-templating',\n  sparql: 'turtle',\n  sqf: 'clike',\n  squirrel: 'clike',\n  stata: [\n    'mata',\n    'java',\n    'python',\n  ],\n  't4-cs': [\n    't4-templating',\n    'csharp',\n  ],\n  't4-vb': [\n    't4-templating',\n    'vbnet',\n  ],\n  tap: 'yaml',\n  tt2: [\n    'clike',\n    'markup-templating',\n  ],\n  textile: 'markup',\n  twig: 'markup-templating',\n  typescript: 'javascript',\n  v: 'clike',\n  vala: 'clike',\n  vbnet: 'basic',\n  velocity: 'markup',\n  wiki: 'markup',\n  xeora: 'markup',\n  'xml-doc': 'markup',\n  xquery: 'markup',\n}/* ] */\n\nconst lang_aliases = /* aliases_placeholder[ */{\n  html: 'markup',\n  xml: 'markup',\n  svg: 'markup',\n  mathml: 'markup',\n  ssml: 'markup',\n  atom: 'markup',\n  rss: 'markup',\n  js: 'javascript',\n  g4: 'antlr4',\n  ino: 'arduino',\n  'arm-asm': 'armasm',\n  art: 'arturo',\n  adoc: 'asciidoc',\n  avs: 'avisynth',\n  avdl: 'avro-idl',\n  gawk: 'awk',\n  sh: 'bash',\n  shell: 'bash',\n  shortcode: 'bbcode',\n  rbnf: 'bnf',\n  oscript: 'bsl',\n  cs: 'csharp',\n  dotnet: 'csharp',\n  cfc: 'cfscript',\n  'cilk-c': 'cilkc',\n  'cilk-cpp': 'cilkcpp',\n  cilk: 'cilkcpp',\n  coffee: 'coffeescript',\n  conc: 'concurnas',\n  jinja2: 'django',\n  'dns-zone': 'dns-zone-file',\n  dockerfile: 'docker',\n  gv: 'dot',\n  eta: 'ejs',\n  xlsx: 'excel-formula',\n  xls: 'excel-formula',\n  gamemakerlanguage: 'gml',\n  po: 'gettext',\n  gni: 'gn',\n  ld: 'linker-script',\n  'go-mod': 'go-module',\n  hbs: 'handlebars',\n  mustache: 'handlebars',\n  hs: 'haskell',\n  idr: 'idris',\n  gitignore: 'ignore',\n  hgignore: 'ignore',\n  npmignore: 'ignore',\n  webmanifest: 'json',\n  kt: 'kotlin',\n  kts: 'kotlin',\n  kum: 'kumir',\n  tex: 'latex',\n  context: 'latex',\n  ly: 'lilypond',\n  emacs: 'lisp',\n  elisp: 'lisp',\n  'emacs-lisp': 'lisp',\n  md: 'markdown',\n  moon: 'moonscript',\n  n4jsd: 'n4js',\n  nani: 'naniscript',\n  objc: 'objectivec',\n  qasm: 'openqasm',\n  objectpascal: 'pascal',\n  px: 'pcaxis',\n  pcode: 'peoplecode',\n  plantuml: 'plant-uml',\n  pq: 'powerquery',\n  mscript: 'powerquery',\n  pbfasm: 'purebasic',\n  purs: 'purescript',\n  py: 'python',\n  qs: 'qsharp',\n  rkt: 'racket',\n  razor: 'cshtml',\n  rpy: 'renpy',\n  res: 'rescript',\n  robot: 'robotframework',\n  rb: 'ruby',\n  'sh-session': 'shell-session',\n  shellsession: 'shell-session',\n  smlnj: 'sml',\n  sol: 'solidity',\n  sln: 'solution-file',\n  rq: 'sparql',\n  sclang: 'supercollider',\n  t4: 't4-cs',\n  trickle: 'tremor',\n  troy: 'tremor',\n  trig: 'turtle',\n  ts: 'typescript',\n  tsconfig: 'typoscript',\n  uscript: 'unrealscript',\n  uc: 'unrealscript',\n  url: 'uri',\n  vb: 'visual-basic',\n  vba: 'visual-basic',\n  webidl: 'web-idl',\n  mathematica: 'wolfram',\n  nb: 'wolfram',\n  wl: 'wolfram',\n  xeoracube: 'xeora',\n  yml: 'yaml',\n}/* ] */\n\n/**\n * @typedef LangDataItem\n * @property {{ success?: () => void, error?: () => void }[]} callbacks\n * @property {boolean} [error]\n * @property {boolean} [loading]\n */\n/** @type {Object<string, LangDataItem>} */\nconst lang_data = {}\n\nexport default function loadLanguageComponent(Prism, language, loadComponent) {\n  /**\n   * Returns whether the given language is currently loaded.\n   *\n   * @param {string} lang\n   * @returns {boolean}\n   */\n  function isLoaded(lang) {\n    if (lang.indexOf('!') >= 0) {\n    // forced reload\n      return false\n    }\n\n    lang = lang_aliases[lang] || lang // resolve alias\n\n    if (lang in Prism.languages) {\n    // the given language is already loaded\n      return true\n    }\n\n    // this will catch extensions like CSS extras that don't add a grammar to Prism.languages\n    const data = lang_data[lang]\n    return data && !data.error && data.loading === false\n  }\n\n  /**\n   * Loads all given grammars concurrently.\n   *\n   * @param {string[]|string} languages\n   * @param {(languages: string[]) => void} [success]\n   * @param {(language: string) => void} [error] This callback will be invoked on the first language to fail.\n   */\n  function loadLanguages(languages, success, error) {\n    if (typeof languages === 'string') {\n      languages = [languages]\n    }\n\n    const total = languages.length\n    let completed = 0\n    let failed = false\n\n    if (total === 0) {\n      if (success) {\n        setTimeout(success, 0)\n      }\n      return\n    }\n\n    function successCallback() {\n      if (failed) {\n        return\n      }\n      completed++\n      if (completed === total) {\n        success && success(languages)\n      }\n    }\n\n    languages.forEach((lang) => {\n      loadLanguage(lang, successCallback, () => {\n        if (failed) {\n          return\n        }\n        failed = true\n        error && error(lang)\n      })\n    })\n  }\n\n  /**\n   * Loads a grammar with its dependencies.\n   *\n   * @param {string} lang\n   * @param {() => void} [success]\n   * @param {() => void} [error]\n   */\n  function loadLanguage(lang, success, error) {\n    const force = lang.indexOf('!') >= 0\n\n    lang = lang.replace('!', '')\n    lang = lang_aliases[lang] || lang\n\n    function load() {\n      let data = lang_data[lang]\n      if (!data) {\n        data = lang_data[lang] = {\n          callbacks: [],\n        }\n      }\n      data.callbacks.push({\n        success,\n        error,\n      })\n\n      if (!force && isLoaded(lang)) {\n      // the language is already loaded and we aren't forced to reload\n        languageCallback(lang, 'success')\n      } else if (!force && data.error) {\n      // the language failed to load before and we don't reload\n        languageCallback(lang, 'error')\n      } else if (force || !data.loading) {\n      // the language isn't currently loading and/or we are forced to reload\n        data.loading = true\n        data.error = false\n\n        loadComponent(lang).then(() => {\n          data.loading = false\n          languageCallback(lang, 'success')\n        }, () => {\n          data.loading = false\n          data.error = true\n          languageCallback(lang, 'error')\n        })\n      }\n    }\n\n    const dependencies = lang_dependencies[lang]\n    if (dependencies && dependencies.length) {\n      loadLanguages(dependencies, load, error)\n    } else {\n      load()\n    }\n  }\n\n  /**\n   * Runs all callbacks of the given type for the given language.\n   *\n   * @param {string} lang\n   * @param {\"success\" | \"error\"} type\n   */\n  function languageCallback(lang, type) {\n    if (lang_data[lang]) {\n      const { callbacks } = lang_data[lang]\n      for (let i = 0, l = callbacks.length; i < l; i++) {\n        const callback = callbacks[i][type]\n        if (callback) {\n          setTimeout(callback, 0)\n        }\n      }\n      callbacks.length = 0\n    }\n  }\n\n  return new Promise((resolve, reject) => {\n    loadLanguage(language, resolve, reject)\n  })\n}\n","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment */\nimport { markedHighlight } from 'marked-highlight'\n\nimport type {\n  MarkdownOptions,\n} from '../types'\nimport {\n  loadScript,\n} from '../utils'\n\n// @ts-ignore\nimport loadLanguageComponent from './language'\n\nexport default function prism(options: MarkdownOptions) {\n  const loadComponent = (component: string) => (\n    loadScript(options.cdn!.libs!.prismjs!.replace('prism-core', `prism-${component}`), options.cdn!.prefix)\n  )\n\n  async function getPrism() {\n    // @ts-ignore\n    let { Prism } = self\n    if (!Prism) {\n      await loadComponent('core')\n      // @ts-ignore\n      Prism = self.Prism\n    }\n    return Prism\n  }\n\n  return markedHighlight({\n    async: true,\n    async highlight(code: string, language: string) {\n      const Prism = await getPrism()\n      const lang = language || 'txt'\n      await loadLanguageComponent(Prism, lang, loadComponent)\n      return Prism.highlight(code, Prism.languages[lang], lang)\n    },\n  })\n}\n","/* eslint-disable consistent-return, no-param-reassign, no-restricted-globals, no-undef */\nimport type { TokenizerAndRendererExtension, Token } from 'marked'\nimport type { KatexOptions } from 'katex'\n\nimport type {\n  MarkdownOptions,\n} from '../types'\nimport {\n  loadScript,\n} from '../utils'\n\nconst INLINE = 'inlineKatex'\nconst BLOCK = 'blockKatex'\n\nconst inlineRule = /^(\\${1,2})(?!\\$)((?:\\\\.|[^\\\\\\n])*?(?:\\\\.|[^\\\\\\n$]))\\1/\nconst blockRule = /^(\\${1,2})\\n((?:\\\\[^]|[^\\\\])+?)\\n\\1(?:\\n|$)/\n\ninterface KatexToken {\n  type: string\n  raw: string\n  text: string\n  displayMode: boolean\n}\n\nfunction createRenderer(options?: KatexOptions, newlineAfter?: boolean) {\n  return (token: KatexToken) => {\n    try {\n      const a = self.katex.renderToString(token.text, {\n        ...options,\n        displayMode: token.displayMode,\n      }) + (newlineAfter ? '\\n' : '')\n      return a\n    } catch (err) {\n      return token.text\n    }\n  }\n}\n\nfunction inlineKatex(renderer: ReturnType<typeof createRenderer>) {\n  return {\n    name: INLINE,\n    level: 'inline',\n    start(src: string) {\n      let index\n      let indexSrc = src\n\n      while (indexSrc) {\n        index = indexSrc.indexOf('$')\n        if (index === -1) {\n          return\n        }\n\n        if (index === 0 || !/\\w/.test(indexSrc.charAt(index - 1))) {\n          const possibleKatex = indexSrc.substring(index)\n\n          if (possibleKatex.match(inlineRule)) {\n            return index\n          }\n        }\n\n        indexSrc = indexSrc.substring(index + 1).replace(/^\\$+/, '')\n      }\n    },\n    tokenizer(src: string) {\n      const match = src.match(inlineRule)\n      if (match) {\n        return {\n          type: INLINE,\n          raw: match[0],\n          text: match[2].trim(),\n          displayMode: match[1].length === 2,\n        }\n      }\n    },\n    renderer,\n  }\n}\n\nfunction blockKatex(renderer: ReturnType<typeof createRenderer>) {\n  return {\n    name: BLOCK,\n    level: 'block',\n    tokenizer(src: string) {\n      const match = src.match(blockRule)\n      if (match) {\n        return {\n          type: BLOCK,\n          raw: match[0],\n          text: match[2].trim(),\n          displayMode: match[1].length === 2,\n        }\n      }\n    },\n    renderer,\n  }\n}\n\nexport default function katex(options: MarkdownOptions) {\n  return {\n    extensions: [\n      inlineKatex(createRenderer(options.katex)),\n      blockKatex(createRenderer(options.katex, true)),\n    ] as TokenizerAndRendererExtension[],\n    async: true,\n    walkTokens(token: Token) {\n      if ([INLINE, BLOCK].indexOf(token.type) >= 0 && !self.katex) {\n        return loadScript(options.cdn!.libs!.katex, options.cdn!.prefix)\n      }\n    },\n  }\n}\n","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment */\nimport type { Marked } from 'marked'\nimport highlight from './highlight'\nimport katex from './katex'\n\nimport {\n  loadScript,\n} from './utils'\n\nimport type {\n  MarkdownOptions,\n} from './types'\n\nlet marked: Marked\nasync function getMarked(options: MarkdownOptions) {\n  if (!marked) {\n    await loadScript(options.cdn!.libs!.marked, options.cdn!.prefix)\n    // @ts-ignore\n    marked = new self.marked.Marked(options.marked)\n    marked.use(highlight(options))\n    marked.use(katex(options))\n  }\n  return marked\n}\n\nlet options: MarkdownOptions\nself.addEventListener('message', (event) => {\n  if (options) {\n    getMarked(options)\n      .then(() => marked.parse(event.data))\n      .then((result) => self.postMessage(result))\n  } else {\n    getMarked(options = event.data)\n  }\n})\n"],"names":["markedHighlight","options","token","lang","getLang","updateToken","code","infoString","escaped","classAttr","escape","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","ch","html","encode","returnSelf","result","asyncThrottleCache","fn","wait","_temp","_ref","_ref$key","key","_len","args","_key","_ref$serialize","serialize","_ref$deserialize","deserialize","cache","_len2","_key2","cacheKey","cached","e","r","f","resolve","reject","onFinish","err","j","s","i","loadScript","url","prefix","context","text","lang_dependencies","lang_aliases","lang_data","loadLanguageComponent","Prism","language","loadComponent","isLoaded","data","loadLanguages","languages","success","error","total","completed","failed","successCallback","loadLanguage","force","load","languageCallback","dependencies","type","callbacks","l","callback","prism","component","getPrism","INLINE","BLOCK","inlineRule","blockRule","createRenderer","newlineAfter","inlineKatex","renderer","src","index","indexSrc","match","blockKatex","katex","marked","getMarked","highlight","event"],"mappings":"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IAAK,CACH,OACA,mBACD,EACD,OAAQ,QACR,2BAA4B,QAC5B,KAAM,aACN,IAAK,oBACL,IAAK,QACL,KAAM,IACN,GAAI,QACJ,OAAQ,QACR,OAAQ,QACR,KAAM,OACN,WAAY,oBACZ,KAAM,QACN,KAAM,IACN,MAAO,UACP,KAAM,QACN,QAAS,CACP,SACA,OACA,aACD,EACD,MAAO,QACP,MAAO,CACL,aACA,cACA,YACD,EACD,YAAa,aACb,MAAO,OACP,MAAO,OACP,eAAgB,aAChB,OAAQ,QACR,MAAO,CACL,QACA,oBACA,KACD,EACD,KAAM,MACN,SAAU,SACV,OAAQ,oBACR,SAAU,SACV,oBAAqB,SACrB,QAAS,aACT,KAAM,aACN,WAAY,IACZ,OAAQ,IACR,OAAQ,SACR,IAAK,oBACL,OAAQ,CACN,MACA,aACD,EACD,aAAc,MACd,MAAO,MACP,WAAY,QACZ,SAAU,QACV,IAAK,CACH,SACA,YACD,EACD,UAAW,QACX,WAAY,UACZ,OAAQ,QACR,IAAK,aACL,KAAM,QACN,OAAQ,SACR,OAAQ,CACN,SACA,QACD,EACD,IAAK,CACH,SACA,YACD,EACD,IAAK,CACH,MACA,YACD,EACD,OAAQ,QACR,KAAM,QACN,KAAM,MACN,KAAM,MACN,MAAO,OACP,gBAAiB,OACjB,OAAQ,oBACR,SAAU,QACV,IAAK,oBACL,OAAQ,SACR,IAAK,QACL,SAAU,QACV,MAAO,CACL,OACA,OACA,QACD,EACD,QAAS,CACP,gBACA,QACD,EACD,QAAS,CACP,gBACA,OACD,EACD,IAAK,OACL,IAAK,CACH,QACA,mBACD,EACD,QAAS,SACT,KAAM,oBACN,WAAY,aACZ,EAAG,QACH,KAAM,QACN,MAAO,QACP,SAAU,SACV,KAAM,SACN,MAAO,SACP,UAAW,SACX,OAAQ,QACV,EAEMC,EAAyC,CAC7C,KAAM,SACN,IAAK,SACL,IAAK,SACL,OAAQ,SACR,KAAM,SACN,KAAM,SACN,IAAK,SACL,GAAI,aACJ,GAAI,SACJ,IAAK,UACL,UAAW,SACX,IAAK,SACL,KAAM,WACN,IAAK,WACL,KAAM,WACN,KAAM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","x_google_ignoreList":[0,1]}